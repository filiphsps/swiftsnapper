{"version":3,"file":"app.js","sourceRoot":"","sources":["../../scripts/cameraManager.ts","../../scripts/SC/snapchat.agent.ts","../../scripts/SC/snapchat.models.ts","../../scripts/SC/snapchat.ts","../../scripts/messageManager.ts","../../scripts/windowManager.ts","../../scripts/index.ts"],"names":["CameraManager","CameraManager.initialize","CameraManager.takePhoto","Snapchat","Snapchat.Agent","Snapchat.Agent.constructor","Snapchat.Agent.Initialize","Snapchat.Agent.GenerateTimeStamp","Snapchat.Agent.GenerateRequestToken","Snapchat.Agent.PostSnapchat","Snapchat.Agent.InitializeCasper","Snapchat.Agent.PostCasper","Snapchat.Agent.GenerateCasperTokenHash","Snapchat.Agent.GenerateCasperRequestSignature","Snapchat.Agent.GenerateCasperDeviceId","Snapchat.Agent.ArrayToURIParameters","Snapchat.Http","Snapchat.Http.ConfigureHeaders","Snapchat.User","Snapchat.User.constructor","Snapchat.Snap","Snapchat.Snap.constructor","Snapchat.Client","Snapchat.Client.constructor","Snapchat.Client.Initialize","Snapchat.Client.GetPendingFeed","Snapchat.Client.GetSnapTag","Snapchat.Client.Login","messageManager","messageManager.initialize","messageManager.alert","messageManager.alertWithOptions","windowManager","windowManager.initialize","windowManager.showStatusBar","windowManager.hideStatusBar","windowManager.startLoading","windowManager.stopLoading","swiftsnapper","swiftsnapper.Application","swiftsnapper.Application.initialize","swiftsnapper.Application.getLanguageStrings","swiftsnapper.Application.onDeviceReady","swiftsnapper.Application.onPause","swiftsnapper.Application.onResume","swiftsnapper.onAccountView","swiftsnapper.onOverviewView"],"mappings":"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","sourcesContent":["module CameraManager {\r\n    let video,\r\n        mediaStream;\r\n\r\n    export function initialize(conf) {\r\n        video = document.getElementById('CameraPreview');\r\n        var Capture = Windows.Media.Capture;\r\n        var mediaCapture = new Capture.MediaCapture();\r\n        var mediaSettings = new Capture.MediaCaptureInitializationSettings();\r\n        var rotationValue = Capture.VideoRotation.none;\r\n        mediaSettings.audioDeviceId = \"\";\r\n        mediaSettings.videoDeviceId = \"\";\r\n        mediaSettings.streamingCaptureMode = Windows.Media.Capture.StreamingCaptureMode.video;;\r\n        //mediaSettings.photoCaptureSource = Capture.PhotoCaptureSource.photo;\r\n\r\n        Windows.Devices.Enumeration.DeviceInformation.findAllAsync(Windows.Devices.Enumeration.DeviceClass.videoCapture)\r\n            .done(function (devices) {\r\n                if (devices.length > 0) {\r\n                    if (conf.frontFacing && devices.length > 1) {\r\n                        video.classList.add('FrontFacing');\r\n                        rotationValue = Capture.VideoRotation.clockwise90Degrees;\r\n\r\n                        mediaSettings.videoDeviceId = devices[1].id;\r\n                    } else {\r\n                        video.classList.remove('FrontFacing');\r\n                        rotationValue = Capture.VideoRotation.clockwise270Degrees;\r\n\r\n                        mediaSettings.videoDeviceId = devices[0].id;\r\n                    }\r\n\r\n                    mediaCapture.initializeAsync(mediaSettings).done(function () {\r\n                        if (device.model == \"ARM\") {\r\n                            mediaCapture.setPreviewRotation(rotationValue);\r\n                        }\r\n                        video.src = URL.createObjectURL(mediaCapture);\r\n                        video.play();\r\n                    });\r\n                } else {\r\n                    //No camera found\r\n                }\r\n            });\r\n    }\r\n\r\n    export function takePhoto() {\r\n        //TODO\r\n    }\r\n}","declare var Hashes: any;\r\nvar sha256 = new Hashes.SHA256\r\n\r\nnamespace Snapchat {\r\n    export class Agent{\r\n        public SNAPCHAT_BASE_ENDPOINT = 'https://app.snapchat.com';\r\n        public SNAPCHAT_EVENTS_ENDPOINT = 'https://sc-analytics.appspot.com/post_events';\r\n        public SNAPCHAT_ANALYTICS_ENDPOINT = 'https://sc-analytics.appspot.com/analytics/b';\r\n        public SNAPCHAT_HASH_PATTERN = '0001110111101110001111010101111011010001001110011000110001000110';\r\n        public SNAPCHAT_API_SECRET = 'iEk21fuwZApXlz93750dmW22pw389dPwOk';\r\n        public SNAPCHAT_API_STATIC_TOKEN = 'm198sOkJEn37DjqZ32lpRu76xmw288xSQ9';\r\n        public SNAPCHAT_CLIENT_AUTH_TOKEN = null;\r\n        public SNAPCHAT_CLIENT_TOKEN = null;\r\n        public SNAPCHAT_UUID = null;\r\n        public SNAPCHAT_USER_AGENT = null;\r\n        public SNAPCHAT_VERSION = '9.18.2.0';\r\n\r\n        public CASPER_USER_AGENT = 'Casper/1.5.2.3 (SwiftSnapper; Windows 10; gzip)';\r\n        public CASPER_ENDPOINT = 'https://api.casper.io';\r\n        public CASPER_HASH_PATTERN = '0100011111110000101111101001101011110010100110011101110010101000';\r\n        public CASPER_API_KEY = '740c1d60b292fc8a44cdc9a3301e124a';\r\n        public CASPER_API_TOKEN = '9UpsYwhthWspIoHonKjniOMu09UBkS9w';\r\n        public CASPER_API_SECRET = 'fuckinginsecuresecretkey'; //API secret taken from io.casper.android.n.a.a\r\n        public CASPER_SIGNATURE = 'v1:3d603604ff4a56d8a6821e9edfd8bb1257af436faf88c1a9bbb9dcefe8a56849';\r\n        public CASPER_VERSION = '1.5.2.3';\r\n        public CASPER_DEVICE_ID = null;\r\n\r\n        public Initialize() {\r\n            return new Promise((resolve) => {\r\n                this.InitializeCasper().then(function () {\r\n                    resolve(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n            Generates a UNIX timestamp\r\n        */\r\n        public GenerateTimeStamp() {\r\n            return Math.round((new Date).getTime());\r\n        }\r\n\r\n        /*\r\n            Generates req_token\r\n            based on https://github.com/cuonic/SnapchatDevWiki/wiki/Generating-the-req_token\r\n        */\r\n        public GenerateRequestToken(token, timestamp) {\r\n            let hash1: string = sha256.hex(this.SNAPCHAT_API_SECRET + token);\r\n            let hash2: string = sha256.hex(timestamp.toString() + this.SNAPCHAT_API_SECRET);\r\n\r\n            let res = '';\r\n            for (var n = 0; n < this.SNAPCHAT_HASH_PATTERN.length; n++) {\r\n                if (parseInt(this.SNAPCHAT_HASH_PATTERN.substr(n, 1))) {\r\n                    res += hash2[n];\r\n                } else {\r\n                    res += hash1[n];\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n\r\n        /*\r\n\t        Post request to Snapchat's API\r\n        */\r\n        public PostSnapchat(URI, parameters, headers?): Promise<string> {\r\n            if (headers == null) {\r\n                headers = {};\r\n            }\r\n\r\n            if (URI == null || parameters == null)\r\n                return null;\r\n            URI = new Windows.Foundation.Uri(this.SNAPCHAT_BASE_ENDPOINT + URI);\r\n\r\n            let REQ = Windows.Web['Http'].HttpStringContent(this.ArrayToURIParameters(parameters), Windows.Storage.Streams.UnicodeEncoding.utf8, 'application/x-www-form-urlencoded'),\r\n                HTTP = new Windows.Web['Http'].HttpClient(),\r\n                HEAD = HTTP.defaultRequestHeaders;\r\n\r\n            HEAD = Snapchat.Http.ConfigureHeaders(HEAD, headers);\r\n            HEAD.append('X-Snapchat-Client-Auth-Token', this.SNAPCHAT_CLIENT_AUTH_TOKEN);\r\n            HEAD.append('X-Snapchat-UUID', this.SNAPCHAT_UUID);\r\n\r\n            return new Promise((resolve) => {\r\n                let promise = HTTP.postAsync(URI, REQ).done(function (res) {\r\n                    res.content.readAsStringAsync().done(function (e) {\r\n                        resolve(e)\r\n                    });\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n            Casper Related functions.\r\n            TODO: move to snapchat.casper.agent.ts\r\n            ==================================================\r\n        */\r\n\r\n        /*\r\n\t        Initialize Casper for use\r\n        */\r\n        private InitializeCasper() {\r\n            this.CASPER_DEVICE_ID = this.GenerateCasperDeviceId();\r\n            var timestamp = this.GenerateTimeStamp();\r\n\r\n            var self = this;\r\n            return new Promise((resolve) => {\r\n                let headers = {\r\n                    'Connection': 'Keep-Alive',\r\n                    'Accept-Encoding': 'gzip',\r\n                    'User-Agent': this.CASPER_USER_AGENT,\r\n                };\r\n\r\n                this.PostCasper('/config', [\r\n                    ['casper_version', this.CASPER_VERSION],\r\n                    ['device_id', this.CASPER_DEVICE_ID],\r\n                    ['timestamp', timestamp.toString()],\r\n                    ['token', this.CASPER_API_TOKEN],\r\n                    ['token_hash', this.GenerateCasperTokenHash(timestamp)]\r\n                ], headers).then(function (conf) {\r\n                    let config = JSON.parse(conf);\r\n\r\n                    if (config.code !== 200)\r\n                        console.log('Failed to fetch Casper config!'); //TODO: Show error dialog through custom message class\r\n\r\n                    var sc_ver = self.SNAPCHAT_VERSION;\r\n                    self.SNAPCHAT_VERSION = config.configuration.snapchat.login.snapchat_version;\r\n\r\n                    resolve(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n\t        Post request to Casper.io's API\r\n        */\r\n        public PostCasper(URI, parameters, headers?): Promise<string> {\r\n            if (headers == null) {\r\n                headers = {};\r\n            }\r\n\r\n            if (URI == null || parameters == null)\r\n                return null;\r\n            URI = new Windows.Foundation.Uri(this.CASPER_ENDPOINT + URI);\r\n\r\n            let REQ = Windows.Web['Http'].HttpStringContent(this.ArrayToURIParameters(parameters), Windows.Storage.Streams.UnicodeEncoding.utf8, 'application/x-www-form-urlencoded'),\r\n                HTTP = new Windows.Web['Http'].HttpClient(),\r\n                HEAD = HTTP.defaultRequestHeaders;\r\n\r\n            HEAD = Snapchat.Http.ConfigureHeaders(HEAD, headers);\r\n            HEAD.append('X-Casper-API-Key', this.CASPER_API_KEY);\r\n            HEAD.append('X-Casper-Signature', this.GenerateCasperRequestSignature(parameters));\r\n\r\n            return new Promise((resolve) => {\r\n                let promise = HTTP.postAsync(URI, REQ).done(function (res) {\r\n                    res.content.readAsStringAsync().done(function (e) {\r\n                        resolve(e)\r\n                    });\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n\t        Generates Token hash to be used with Casper's API\r\n        */\r\n        public GenerateCasperTokenHash(timestamp) {\r\n            let s1: string = sha256.hex(this.CASPER_DEVICE_ID + this.CASPER_API_TOKEN),\r\n                s2: string = sha256.hex(this.CASPER_API_TOKEN + timestamp.toString());\r\n\r\n            let res = '';\r\n            for (var n = 0; n < this.CASPER_HASH_PATTERN.length; n++) {\r\n                if (this.CASPER_HASH_PATTERN.charAt(n) === '0') {\r\n                    res += s1[n];\r\n                } else {\r\n                    res += s2[n];\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n\r\n        /*\r\n\t        Generates Signature to be used with Casper's API\r\n\t        P.S Casper expects the parameters to be in alphabetical order.\r\n        */\r\n        private GenerateCasperRequestSignature(parameters) {\r\n            let req = '';\r\n            parameters = parameters.sort(function (a, b) {\r\n                return a[0].localeCompare(b[0]);\r\n            })\r\n            for (var n = 0; n < parameters.length; n++) {\r\n                req += parameters[n][0] + parameters[n][1];\r\n            }\r\n\r\n            return 'v1:' + sha256.hex_hmac(this.CASPER_API_SECRET, req);\r\n        }\r\n\r\n        //TODO: Investigate how Android's device id is generated\r\n        private GenerateCasperDeviceId() {\r\n            var id = '';\r\n            var charset = \"abcdefghijklmnopqrstuvwxyz0123456789\";\r\n            for (var i = 0; i <= 16; i++)\r\n                id += charset.charAt(Math.floor(Math.random() * charset.length));\r\n            return id;\r\n        }\r\n\r\n        /*\r\n\t        Converts an Array of Arrys to uri parameters\r\n\t        Ex. input [['para1', 'val1'], ['para2', 'val2'], ['para3', 'val3']].\r\n        */\r\n        public ArrayToURIParameters(data: Array<Array<string>>) {\r\n            data = data.sort(function (a, b) {\r\n                return a[0] > b[0] ? 1 : -1;\r\n            })\r\n\r\n            var res = '';\r\n            for (var n = 0; n < data.length; n++) {\r\n                if (res != '') {\r\n                    res += '&';\r\n                }\r\n                res += data[n][0] + '=' + data[n][1];\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n\r\n    export module Http {\r\n        export function ConfigureHeaders(HEAD, headers) {\r\n            //TODO: Custom headers?\r\n            if (typeof headers['Accept-Encoding'] !== 'undefined') {\r\n                HEAD.acceptEncoding.clear();\r\n                HEAD.acceptEncoding.parseAdd(headers['Accept-Encoding']);\r\n            }\r\n\r\n            if (typeof headers.Accept !== 'undefined')\r\n                HEAD.accept.parseAdd(headers.Accept);\r\n\r\n            if (typeof headers['Accept-Language'] !== 'undefined')\r\n                HEAD.acceptLanguage.parseAdd(headers['Accept-Language']);\r\n\r\n            if (typeof headers['Accept-Locale'] !== 'undefined')\r\n                HEAD.append('Accept-Locale', headers['Accept-Locale']);\r\n\r\n            if (typeof headers.Connection !== 'undefined')\r\n                HEAD.connection.parseAdd(headers.Connection);\r\n\r\n            if (typeof headers['Cache-Control'] !== 'undefined')\r\n                HEAD.cacheControl.parseAdd(headers.CacheControl);\r\n            else\r\n                HEAD.cacheControl.clear();\r\n\r\n            if (typeof headers['User-Agent'] !== 'undefined')\r\n                HEAD.userAgent.parseAdd(headers['User-Agent']);\r\n\r\n            if (typeof headers['X-Snapchat-Client-Token'] !== 'undefined')\r\n                HEAD.append('X-Snapchat-Client-Token', headers['X-Snapchat-Client-Token']);\r\n\r\n            return HEAD;\r\n        }\r\n    }\r\n}","namespace Snapchat {\r\n    export class User {\r\n        public username: string;\r\n    }\r\n\r\n    export class Snap {\r\n        public sender: string; //TODO: Switch to user\r\n        public timer: Number = 0;\r\n        public timestamp: number = 0;\r\n    }\r\n\r\n    export interface LoginDetails {\r\n        username: string,\r\n        password: string,\r\n    }\r\n}","/// <reference path=\"snapchat.agent.ts\" />\r\n/// <reference path=\"snapchat.models.ts\" />\r\n\r\nnamespace Snapchat {\r\n    export class Client {\r\n        private SnapchatAgent: Snapchat.Agent;\r\n\r\n        public AllUpdatesData; //Temp\r\n        public CurrentUser: Snapchat.User; //Temp\r\n\r\n        public Initialize() {\r\n            this.SnapchatAgent = new Snapchat.Agent();\r\n            this.CurrentUser = new Snapchat.User();\r\n\r\n            return new Promise((resolve) => {\r\n                this.SnapchatAgent.Initialize().then(function () {\r\n                    resolve(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        /*\r\n            Get the current user's pending Snapchat feed\r\n        */\r\n        public GetPendingFeed(): Array<Snapchat.Snap> {\r\n            let Snaps: Array<Snapchat.Snap> = [],\r\n                friends = this.AllUpdatesData.conversations_response;\r\n\r\n            for (var x = 0; x < friends.length; x++) {\r\n                const snaps = friends[x].pending_received_snaps;\r\n                for (var n = 0; n < snaps.length; n++) {\r\n                    let snap = snaps[n],\r\n                        sn = new Snapchat.Snap();\r\n                    sn.sender = snap.sn;\r\n                    sn.timer = snap.timer;\r\n                    sn.timestamp = snap.ts;\r\n\r\n                    Snaps.push(sn);\r\n                }\r\n            }\r\n            Snaps.sort(function (a, b) {\r\n                return a.timestamp - b.timestamp;\r\n            });\r\n            return Snaps;\r\n        }\r\n\r\n        /*\r\n            Get a user's SnapTag\r\n            Doesn't work yet.\r\n        */\r\n        public GetSnapTag(username: string) {\r\n            let self = this,\r\n                data = this.AllUpdatesData,\r\n                timestamp = this.SnapchatAgent.GenerateTimeStamp();\r\n\r\n            return new Promise((resolve) => {\r\n                let headers = {\r\n                    'Accept': '*/*',\r\n                    'Accept-Language': 'en',\r\n                    'Accept-Locale': 'en_us',\r\n                    'User-Agent': self.SnapchatAgent.SNAPCHAT_USER_AGENT,\r\n                    'Accept-Encoding': 'gzip',\r\n                    'Connection': 'Keep-Alive',\r\n                };\r\n\r\n                self.SnapchatAgent.PostSnapchat('/bq/snaptag_download', [\r\n                    ['user_id', sha256.hex(username.toLowerCase())]\r\n                    ['type', 'SVG'],\r\n                    ['req_token', self.SnapchatAgent.GenerateRequestToken(self.SnapchatAgent.SNAPCHAT_CLIENT_AUTH_TOKEN, timestamp)],\r\n                    ['timestamp', timestamp.toString()],\r\n                    ['username', username]\r\n                ], headers).then(\r\n                    function (data) {\r\n                        resolve(data);\r\n                    });\r\n            });\r\n        }\r\n\r\n        /*\r\n            Log In a user\r\n        */\r\n        public Login(details: Snapchat.LoginDetails) {\r\n            return new Promise((resolve) => {\r\n                if (details.username.length < 1 || details.password.length < 1) {\r\n                    resolve({ 'code': -1, 'message': 'You must provide both username AND password!' });\r\n                    return;\r\n                }\r\n\r\n                let headers = {\r\n                    'Connection': 'Keep-Alive',\r\n                    'Accept-Encoding': 'gzip',\r\n                    'User-Agent': this.SnapchatAgent.CASPER_USER_AGENT,\r\n                };\r\n                let timestamp = this.SnapchatAgent.GenerateTimeStamp(),\r\n                    self = this;\r\n\r\n                this.SnapchatAgent.PostCasper('/snapchat/auth', [\r\n                    ['username', details.username],\r\n                    ['password', details.password],\r\n                    ['snapchat_version', this.SnapchatAgent.SNAPCHAT_VERSION],\r\n                    ['timestamp', timestamp.toString()],\r\n                    ['token', this.SnapchatAgent.CASPER_API_TOKEN],\r\n                    ['token_hash', this.SnapchatAgent.GenerateCasperTokenHash(timestamp)]\r\n                ], headers).then(function (snapchatData) {\r\n                    var data = JSON.parse(snapchatData);\r\n                    if (data.code !== 200) {\r\n                        resolve(data); //TODO\r\n                        return;\r\n                    }\r\n\r\n                    self.SnapchatAgent.SNAPCHAT_CLIENT_AUTH_TOKEN = data.headers['X-Snapchat-Client-Auth-Token'];\r\n                    self.SnapchatAgent.SNAPCHAT_CLIENT_TOKEN = data.headers['X-Snapchat-Client-Token'];\r\n                    self.SnapchatAgent.SNAPCHAT_UUID = data.headers['X-Snapchat-UUID'];\r\n\r\n                    headers = data.headers;\r\n                    headers['X-Snapchat-Client-Token'] = self.SnapchatAgent.SNAPCHAT_CLIENT_TOKEN;\r\n                    self.SnapchatAgent.PostSnapchat('/loq/login', [\r\n                        ['height', data.params.height],\r\n                        ['ny', data.params.nt],\r\n                        ['password', data.params.password],\r\n                        ['remember_device', data.params.remember_device],\r\n                        ['req_token', data.params.req_token],\r\n                        ['screen_height_in', data.params.screen_height_in],\r\n                        ['screen_height_px', data.params.screen_height_px],\r\n                        ['screen_width_in', data.params.screen_width_in],\r\n                        ['screen_width_px', data.params.screen_width_px],\r\n                        ['timestamp', data.params.timestamp],\r\n                        ['user_ad_id', data.params.user_ad_id],\r\n                        ['username', data.params.username],\r\n                        ['width', data.params.width],\r\n                    ], headers).then(function (data) {\r\n                        self.AllUpdatesData = JSON.parse(data);\r\n\r\n                        if (typeof data['status'] !== 'undefined' && data['status'] !== 200) {\r\n                            resolve({ 'status': data['status'], 'message': data['message'] });\r\n                            return;\r\n                        }\r\n\r\n                        self.CurrentUser.username = details.username;\r\n                        resolve(JSON.parse(data));\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    }\r\n}\r\n","module messageManager {\r\n    let popup;\r\n\r\n    export function initialize() {\r\n        popup = Windows.UI.Popups;\r\n    }\r\n\r\n    export function alert(message: string, title: string, callback) {\r\n        let alert = new popup.MessageDialog(message, title);\r\n        alert.commands.append(new popup.UICommand(\"OK\", function (cmd) {\r\n\r\n            if(callback !== null)\r\n                callback();\r\n        }));\r\n        alert.defaultCommandIndex = 1;\r\n        alert.showAsync();\r\n    }\r\n\r\n    export function alertWithOptions(message: string, title: string, commands: Array<string>, index: number, callback: Function) {\r\n        let alert = new popup.MessageDialog(message, title),\r\n            cb = function (cmd) {\r\n                callback(cmd.label);\r\n            };\r\n\r\n        for (let n; n < commands.length; n++) {\r\n            alert.commands.append(new popup.UICommand(commands[n], cb));\r\n        }\r\n        \r\n        alert.defaultCommandIndex = index;\r\n        alert.showAsync();\r\n    }\r\n}","module windowManager {\r\n    let view = null,\r\n        pi = null,\r\n        theme = {\r\n            a: 255,\r\n            r: 52,\r\n            g: 152,\r\n            b: 219\r\n        };\r\n\r\n    export function initialize() {\r\n        view = Windows.UI.ViewManagement.ApplicationView.getForCurrentView();\r\n        view.titleBar.inactiveBackgroundColor = theme;\r\n        view.titleBar.buttonInactiveBackgroundColor = theme;\r\n        view.titleBar.backgroundColor = theme;\r\n        view.titleBar.buttonBackgroundColor = theme;\r\n        view['setDesiredBoundsMode'](Windows.UI.ViewManagement['ApplicationViewBoundsMode'].useCoreWindow);\r\n        view['setPreferredMinSize']({\r\n            height: 1024,\r\n            width: 325\r\n        });\r\n\r\n        if (typeof Windows.UI.ViewManagement['StatusBar'] !== 'undefined') {\r\n            $('body').addClass('mobile'); //TODO: Move to initialize()\r\n            let statusBar = Windows.UI.ViewManagement['StatusBar'].getForCurrentView();\r\n            statusBar.showAsync();\r\n            statusBar.backgroundOpacity = 1;\r\n            statusBar.backgroundColor = Windows.UI.ColorHelper.fromArgb(255, 52, 152, 219);\r\n            statusBar.foregroundColor = Windows.UI.Colors.white;\r\n\r\n            //Lock portrait\r\n            Windows.Graphics.Display['DisplayInformation'].autoRotationPreferences = Windows.Graphics.Display.DisplayOrientations.portrait\r\n        }\r\n    }\r\n\r\n    export function showStatusBar() {\r\n        if (typeof Windows.UI.ViewManagement['StatusBar'] !== 'undefined') {\r\n            let statusBar = Windows.UI.ViewManagement['StatusBar'].getForCurrentView();\r\n            statusBar.showAsync();\r\n        }\r\n    }\r\n\r\n    export function hideStatusBar() {\r\n        if (typeof Windows.UI.ViewManagement['StatusBar'] !== 'undefined') {\r\n            let statusBar = Windows.UI.ViewManagement['StatusBar'].getForCurrentView();\r\n            statusBar.hideAsync();\r\n        }\r\n    }\r\n\r\n    export function startLoading(message) {\r\n        if (typeof Windows.UI.ViewManagement['StatusBar'] !== 'undefined') {\r\n            pi = Windows.UI.ViewManagement['StatusBar'].getForCurrentView().progressIndicator;\r\n            pi.text = message;\r\n            pi.progressValue = 0.5;\r\n            pi.showAsync();\r\n        }\r\n    }\r\n    export function stopLoading() {\r\n        if (typeof Windows.UI.ViewManagement['StatusBar'] !== 'undefined' && pi !== null) {\r\n            pi.hideAsync();\r\n        }\r\n    }\r\n}","/// <reference path=\"typings/winrt/winrt.d.ts\" />\r\n/// <reference path=\"typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"typings/es6-promise/es6-promise.d.ts\" />\r\n/// <reference path=\"SC/snapchat.ts\" />\r\n/// <reference path=\"cameraManager.ts\" />\r\n/// <reference path=\"messageManager.ts\" />\r\n/// <reference path=\"windowManager.ts\" />\r\n\r\ndeclare var Handlebars: any;\r\nlet views;\r\n\r\nmodule swiftsnapper {\r\n    \"use strict\";\r\n\r\n    let SnapchatClient: Snapchat.Client;\r\n    let language = Windows.System.UserProfile.GlobalizationPreferences.languages[0];\r\n\r\n\r\n\r\n    export module Application {\r\n        export function initialize() {\r\n            document.addEventListener('deviceready', onDeviceReady, false);\r\n            messageManager.initialize();\r\n            windowManager.initialize();\r\n        }\r\n\r\n        export function getLanguageStrings(lang: string, callback: Function) {\r\n            $.getJSON('lang/' + lang + '.json', function (lang) {\r\n                callback(lang);\r\n            }, function (e) {\r\n                //Error\r\n                $.getJSON('lang/en-US.json', function (lang) {\r\n                    callback(lang);\r\n                });\r\n            }).fail(function () {\r\n                $.getJSON('lang/en-US.json', function (lang) {\r\n                    callback(lang);\r\n                });\r\n            });\r\n        }\r\n\r\n        function onDeviceReady() {\r\n            // Handle the Cordova pause and resume events\r\n            document.addEventListener('pause', onPause, false);\r\n            document.addEventListener('resume', onResume, false);\r\n        }\r\n\r\n        function onPause() {\r\n            // TODO: This application has been suspended. Save application state here.\r\n        }\r\n\r\n        function onResume() {\r\n\r\n        }\r\n    }\r\n\r\n    window.onload = function () {\r\n        Application.initialize();\r\n\r\n        //Init Snapchat\r\n        SnapchatClient = new Snapchat.Client();\r\n        SnapchatClient.Initialize().then(function () {\r\n            $(document).ready(function () {\r\n                $('body').load('views/account/index.html');\r\n            });\r\n        });\r\n    }\r\n\r\n    export function onAccountView() {\r\n        Application.getLanguageStrings(language, function (lang) {\r\n            var template = Handlebars.compile($(\"#template\").html());\r\n            $('#PageContent').html(template(lang));\r\n\r\n            //Init Owl Carousel\r\n            views = $('#views');\r\n            views.owlCarousel({\r\n                loop: false,\r\n                nav: false,\r\n                dots: false,\r\n                video: true,\r\n                margin: 0,\r\n                startPosition: 1,\r\n                mouseDrag: false,\r\n                touchDrag: false,\r\n                pullDrag: false,\r\n                fallbackEasing: 'easeInOutQuart',\r\n                items: 1,\r\n            });\r\n\r\n            $('header').on('click tap', function () {\r\n                views.trigger('to.owl.carousel', [1, 300, true]);\r\n            });\r\n            $('#LogInBtn').on('click tap', function () {\r\n                views.trigger('next.owl.carousel', [300]);\r\n            });\r\n            $('#SignUpBtn').on('click tap', function () {\r\n                views.trigger('prev.owl.carousel', [300]);\r\n            });\r\n\r\n            $('#LogInForm').submit(function (e) {\r\n                e.preventDefault();\r\n                windowManager.startLoading('Logging In...');\r\n                $('#LogInView form .username').prop(\"disabled\", true);\r\n                $('#LogInView form .password').prop(\"disabled\", true);\r\n\r\n                SnapchatClient.Login({\r\n                    username: $('#LogInView form .username').val(),\r\n                    password: $('#LogInView form .password').val(),\r\n                }).then(\r\n                    function (data) {\r\n                        if (typeof data['status'] !== 'undefined' && data['status'] !== 200) {\r\n                            messageManager.alert(lang.views.account.logInView.wrongUsernameOrPassword, lang.views.account.logInView.failedToLogIn, null);\r\n\r\n                            $('#LogInView form .username').prop(\"disabled\", false);\r\n                            $('#LogInView form .password').prop(\"disabled\", false);\r\n                            return -1;\r\n                        }\r\n                                                \r\n                        windowManager.stopLoading();\r\n                        $('body').load('views/overview/index.html');\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    export function onOverviewView() {\r\n        Application.getLanguageStrings(language, function (lang) {\r\n            var template = Handlebars.compile($(\"#template\").html());\r\n            $('#PageContent').html(template(lang));\r\n\r\n            //Init Owl Carousel\r\n            views = $('#views');\r\n            views.owlCarousel({\r\n                loop: false,\r\n                nav: false,\r\n                dots: false,\r\n                video: true,\r\n                margin: 0,\r\n                startPosition: 1,\r\n                pullDrag: false,\r\n                fallbackEasing: 'easeInOutQuart',\r\n                responsive: {\r\n                    0: {\r\n                        items: 1\r\n                    },\r\n                    1024: {\r\n                        items: 3\r\n                    }\r\n                }\r\n            });\r\n            views.on('changed.owl.carousel', function (event) {\r\n                let pos = event.item.index;\r\n                if (pos == 1) {\r\n                    windowManager.hideStatusBar();\r\n                } else\r\n                    windowManager.showStatusBar();\r\n            });\r\n\r\n            //temp: view unread snaps\r\n            var snaps = SnapchatClient.GetPendingFeed()\r\n            for (var n = 0; n < snaps.length; n++) {\r\n                let snap = snaps[n],\r\n                    output =\r\n                        '<article class=\"item\"><div class=\"notify snap\"><span class=\"icon mdl2-checkbox-fill\"></span></div><div class=\"details\">' +\r\n                        '<div class=\"header\">' + snap.sender + '</div>' +\r\n                        '<div class=\"details\">Length: ' + snap.timer.toString() + '</div>' +\r\n                        '</div></article>';\r\n\r\n                $('#SnapsView .SnapsList').append(output);\r\n            }\r\n\r\n            CameraManager.initialize({\r\n                'frontFacing': false\r\n            });\r\n\r\n            $('#ViewSnapsBtn').on('click tap', function () {\r\n                views.trigger('prev.owl.carousel', [300]);\r\n            });\r\n            $('#ViewStoriesBtn').on('click tap', function () {\r\n                views.trigger('next.owl.carousel', [300]);\r\n            });\r\n\r\n            $('#CameraToggleBtn').on('click tap', function () {\r\n                if ($('#CameraPreview').hasClass('FrontFacing')) {\r\n                    CameraManager.initialize({\r\n                        'frontFacing': false\r\n                    });\r\n                } else {\r\n                    CameraManager.initialize({\r\n                        'frontFacing': true\r\n                    });\r\n                }\r\n\r\n            });\r\n            $('#ShutterBtn').on('click tap', function () {\r\n                CameraManager.takePhoto();\r\n            });\r\n\r\n\r\n            if (typeof Windows !== 'undefined' && Windows.Foundation.Metadata['ApiInformation'].isTypePresent('Windows.Phone.UI.Input.HardwareButtons')) {\r\n                Windows['Phone'].UI.Input.HardwareButtons.addEventListener('camerapressed', function (e) {\r\n                    $('#ShutterBtn').click();\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n"]}